# Lock을 사용하는 이유

- 여러 사용자가 동시에 같은 데이터에 접근했을 때 문제가 생길 수 있는 상황을 예방하기 위함.
- 트랜잭션 내부에서의 순차성을 보장하도록 하여, 원하는 결과가 나올 수 있게 만드는 것이 Lock.
- 즉, 동시성을 제어하기 위해 사용하는 기법

## 어떨 때 문제가 생겼다고 할 수 있는가.

- 수강 신청 가능 인원이 1명이 남았다고 가정한다. 이 때, A와 B라는 학생이 동시에 수강 신청을 할 경우 단 한 명이 해당 과목을 수강할 수 있어야 한다. 하지만, 동시성 문제를 고려하지 않았을 경우, 두 사람 모두 해당 과목을 수강할 수 있을 가능성이 생긴다.

# Lock의 종류

## Shared Lock(공유 잠금)

- 데이터를 변경하지 않는 읽기 작업을 위해 잠그는 것으로 읽기 잠금이라고 한다.
- 데이터를 조회(Select)할 경우에 사용한다.

## Exclusive Lock(배타 잠금)

- 데이터를 변경하는 작업을 위해 잠그는 것으로, 쓰기 잠금이라고 한다.
- 데이터를 변경하고자 할 때 사용하게 되는데, 다른 세션이 해당 자원에 접근하는 것을 방지합니다. 락이 해제될 때까지 다른 트랜잭션은 해당 리소스에 접근할 수 없으며, 기존 트랜잭션이 끝났을 경우 비로소, 해당 리소스에 접근할 수 있습니다.
